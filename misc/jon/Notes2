to-do items from testing with Laura:

---
THESE ITEMS ARE DONE:
alphabetize testplans
alt-enter for full screen - browser skills
show search pattern on results page?
label for Inactive, Deceased - 'Status'
    and don't show if neither
add space between addr1, addr2
no tab to Share, Home then Work?
Alert when registering rather than Pop Up?
sort affil list ignoring case - nah
Separate bombs - tt_today?
doc in browse skills - print background colors
updated date is not start date of program
    they registered for - it is the current date
delete a person - what about their donations?
import all housing from cur on.
purge email response - better?
    not sure what this is...
edit Misc - stay on Misc
stay on tabs for Rentals editing
RAM 1 <-> 2
update Lunches
    did not consider extra days
manual reg - default Double for h_type
book clusters for Rentals - order?
No Where - not working?
If no CEUs in program, say so when asking for Program CEUs.
update Lunches, Leaders, Meeting Places, Affils => back to same tab
L, H, X => graphic icons of
    envelope, house (small version of same), red X (stolen from Netflix?)
"Pay It" - replace with a dollar bill graphic
Own Tent - house picture?
on reg screen - Charges to the right?
    payment, history down below
    I think not.   Too much info - becomes noise.
extra days - Name From To add "Plus..."
    does it look too noisy?   or is an extended program
        just innately complex so it _should_ look noisy?
    better way?  Heading for Lists, Tally is cleaner.
link for quick notes in separate window
    in 3 places - reg screen, update conf note screen,
        and on housing screen
on housing screen
    put space for conf note
allow an easier way to change housing type - from
    the choose house screen
    also - show both choices of housing (if available from online)
housing choices on house screen not second choice.
Early/Late listing - respects extended programs...
    not done yet
other cronjobs:
    make up list
        works okay - sets the 'next needed' date.
            might that date may change before the bed is ready???
                may change earlier or later.
            yes.  should we worry about it and every time
                the make up screen is shown should we look again?
            maybe.
    grab online

    need to set properly with crontab -e
        what time?
GrabNew elsewhere - or 'Online' since grabbing new will be cron job
    on Program list screen only - okay?
    also on Registration
    Grab New only on Online list screen
Cancellation - be sure to vacate the house, Deletes, too.
    done, yes?
PublishPics as a separate link
in Online list make program name a link
in DailyPic, ClusterView - popup shows kids, if present
Registrations link on top of Summary
calendar - set end date, not show images etc
all lunches - check "all"
assign meeting place - order by disp_order
reset display colors to default
footnotes #->%?  correct?
add house to Rentals - list too long
    sorted by priority, limited select options, Resize at bottom
No lunches for PR
rentals
    add rental -start on Finance?
    deposit required? on rentals?
    after creation - what tab is shown?
search online list for roommates before
    saying they're not there at all.
capitalize first, last names (Mc O') on entry online
    for normalization
on create program page - offer school and (onchange level)
    level can be a series of radio buttons rather than select/option (nah)
* start, end to rental from proposal
* OK '*' when searching for Rentals.
* no edit after approval
* in summary - start/end times
*     coordinator contact
* children - what to do in rentals? -  done
* proposals 
    * textarea for date requested.
    * convert -> approve
    * misc_notes valign top
    * no edit after approve
    * append provisos to miscell.
* seminar house reserve clusgter??
    * okay - was not avail
VPN access   - okay thanks to Jim.
On reg1.html explain special requests
    special foods, kids, early late, snoring
on housing screen - show kids if present
    on popup - yes?
No Where - didn't show until = 9? - fixed
initial focus when changing tabs in Rentals/Programs?
    should be able to set to first field.
on program - Registrations or AllRegs or FirstReg 

"All" next to each housing cluster on the made-up page.
    Mimic what you did for lunches.

Modify Date::Simple to introduce
    a new format character that shows the year
    unless it is the current year in which case it is the empty string.
    Then we can do '21 Jan' (like the airline boarding pass did).

rental tab order
    m&l, misc, finance, web

MMI
    import from D/C/M programs
    go to the _one_ D/C/M program
    MMI charges, payments are linked to the person not the program
        including course housing etc?

if someone calls back to make another proposal - 
    have ajax function to pull in their demographic info
    from the people table?
    otherwise you need to retype it all...

use Time::Simple.pm

checkin, checkout proposal/rental times
    validate with \d+(:\d+)?
    AND consider the partial hours

doc: rental check in and check out times
    CAN have partial hours
email all in a program?
    not the cancelled ones.
Issues - added by whom?
email all in a program?
    but not cancelled people
---
Center Tent spaces should be available during
    winter for Own Tent people

Summary - need Plus ... for extended programs


web design - no change of color if clicked on
    what?
deposits - since last deposit, save it
month-end report?
too many windows open for membership activity
colorization of R for rentals?
    better - show first 3 (or 2) letters when radio button is chosen?
    or not
Summary tabs into field goes to second line?
    tabs should not go to Submit    - browser preference
wrapping in comments entered online?
history records for which house relodged, vacating?
    maybe
    not vacating but yes which house lodged
in middle of reg on another window - go to a program
    opens up yet another window or does it clobber the mid-reg?
submit reg - fails network, on refresh gives sdate error
    prohibit double reg
in History - conf letter REsent
font - not always Verdana in IE
    sometimes not always
red arrow for moving - didn't pop up - why?
    window already existed?
confirmation letter - KayaKalpa is too much
printout of confirmation letter should be smaller font
lsw, LSW, online reg - case insensitive
    try LSW when only nurses?
CEU license cost, kid cost, extra day cost, discounts
    should this be mentioned near Special Requests?
    how do PRs work in this regard?
    online PRs request arrival, departure dates?
manual reg - defaults to PR - the _current_ PR
Firefox - better tabbing, opening of other windows/tabs?
    should we require Firefox?
unlinked dir for PRs?
PR screwed up charges?
    negative # of days?
    okay if within the PR season?
online evaluation form
    records w/ program id, name, date - ftp'ed from mmc.org to kali
    see Breitenbush form
are receipt numbers necessary?  == payment record id
no expiration of session?
only one reg screen - don't keep opening new ones?
    maybe maybe not - can modifier keys override naming a window?
no double reg in program with same name/person id
on first Registration screen "Submit" -> "Register"?
    maybe
Forcing into another type - should we change h_type automatically?
    better - after a force - display the fullness of what they
    have done.   all residents of the room, their h_type
        plus kids
Sharing overides no bed? :(
assistant * - legend on Leaders screen
Color instructions on all pages - not just Display Colors
    a way of not repeating all the color code?  sure.  try.
Change password - error on success?
Tally - heading 'for' 'from'?
    no Tuition, Lodging, Adjustments
    "To Program" bombs
List of all current programs should show
    programs with extra days that have not quite yet ended.
Check Early/Late list considering extended programs
View Rental - diff display background - td elements?
For extended programs initial reg screen should say so (view too)
    "Plus 3 days to 11/9"
do program staff have access to member info?
    should they?  not write access.
    they might get questions about # of days left...
ajax on all regs screen
Donations - not in New Deposit, payments _are_ there.
negative balance not offset by negative charge?
    try to reproduce:
    w credit of -50
    deposit of 100
    & free program
Late Notices
    cluster name does not read properly.
    perhaps don't try to put in a sentence - rather in a tabular form?
    cabin, tent, room - not just room.
    
    how does the Confirmation letter read?
when duplicating a program - the leaders are duplicated
    but not registered.  should be.  not housed, however.
...
Green Fund - new well known Project
    on reg1.html have place for entering a dollar amount
    to be included in the credit card total
    a link explaining it in separate smaller window
    x_green 40

    generates acknowledgment letter
    project page shows all by month, with subtotals by month
KayaKalpa changes
    in reg1 link to their page, email address
duplicate program with extra days??? does it work?
no Submit at bottom of Web tab of Program
    colorize the one that's there?
feedback while Publishing
the program default template
    check in begin, end times
    orientation = program start
    end time of program
doc: blank line before # in shortcuts
need help link for shortcuts
errors on website - can we put focus on erroneous field?
    rather than just 'back'?
for conf letter
    when does office close?  not always 6:30.
    invoice table - needs cell padding
        okay on MacBook Mail, Safari not Outlook on IE
carpool
    say 'as of' date.
    cronjob will send one week before program
        Bcc'ing registrar (who?) - all program admins
in blitz reg screen (AllRegs) the program date
    is not complete - do like Lists, Tallies?
dashes under charges, payments on reg screen
    not visible in IE.
prohibit sending confirmation letter
    unless housing has been set.
program dates: From 12/23/08 Tue To 12/25/08 Thu Or 12/28/08 Sun
    dates bold, labels not bold, DOW red not bold

protect against dups when backing up
    adding registration, program.

pay it in rental - not the balance?
email syntax check should permit only ONE email address
    and nothing else
new files help/attendance.html and timelog2 for Shankar




future...
enter zip => city, state?
    for phase two - not really needed since most reg is online
ajax cluster assign to program - iffy on IE?
    how does it not work?  okay on Safari locally.
dup check - when is it done?
    enter exact dup names, with address
        no dup warning?
Partnering not found?
dups, search for partners - still some trouble there
doc: calendar - end date calculation may include
    one more month if an event that starts earlier overlaps into it.
initial focus of summary, tab order?
+2 for extended does not show
program tally - tally genders/kids before program happens
    attended then blank, then gender tally
    also do the tuition tally
program staff cannot add houses - don't offer it
templates - some should not show
better format for dates?  instead of 11/03/09 use Nov 3 '09 ??
    easily done with Date::Simple default formats.
summary - who, when updated - do we show it?

rental bookings - how did vishnu dev, mmi-lele get a booking????
    reload and check hcck!
Perday => Per Day

to do for proposals:
    the list should include status, max, and dates requested
    add affiliation for "Rental Coordinator".
    add link to 'Transmit' the person and another 'Convert' for the proposal.
        Converting the proposal automatically transmits the person
        after which 'Transmit' is shown as "To Person"
        and 'Convert' as "To Rental".
        rental_id and person_id become non-zero
        read-only values for the person's demographics after transmission
        the proposal values (Group Name) cannot be changed.
            nothing else matters - they are not 'converted'.
    on transmitting - update an existing person record
        with the current info

leaders of programs - should the link on the program screen
    for the leader take you to their leader info or to their
    registration for this program?
donations, payments
    list type of payment, date in both??
delete person - linked to proposals???

add/update person as proposal submitter
    also change date entered, updated.

use 1st 3 alpha letters of address for the akey
optionally collapse same addresses and add et. al.
    and show the addresses - somehow
get all data from old reg/mlist
    new listing: inactivation step
    with a date parameter
    followed by counts of reports
ask Luke about standardization of addresses via a web API.
MMI programs - what to do?
    they will occupy meeting spaces and housing
        so we do need to show them to everyone.
        otherwise in the daily pic there'll be someone
        you see but that if you click on them you see nothing!
need to get extra accounts still - and the payments?.

mmi payments - when in course allow only tuition, meals and lodging or Other?
    and when "To DCM" allow only App Fee and Reg Fee or Other?
    or tuition only in DCM unless it is an auditor?
    tuition on a mmi course program is the tution for just
    the one class.  in a DCM it is the tuition for the entire
    program.

rental add house - make it a table of checkboxes

charges for MMI program - none for D/C/M? but yes, course.
    but no tuition - yes lodging
    ???   but no normal payment in reg.
    ???!!! must do payment via New MMI Payment.
    deposits do not include mmi payments.
        who makes deposits for mmi?
    do we need a separate deposit listing for mmi?

add attributes to mmi_payment - reg_id and note
    decipher reg_id from gl number in existing payments
        too hard (or confusing!)   n_in_mon or level???? glnum????
        settle for future payments?
        it is the D/C/M program start date (6th digit is D/C/M)
        for auditors the payment is attributed to the course itself.

        weird design!
        the information about which course the meals/lodging was
        for is lost... we could guess by looking at the date of
        payment - but should we?

        perhaps it can be re-thought?

list of mmi_payments - totals of the different types of payments
    tuition, meals & lodging, reg fee, app fee, other

import on mmi course - show checkboxes of all current (not ended) D/C/M programs

save deposits - with date/time stamp
deposit choice - file/jive

mark inactive
    make sure date_update is set correctly from registrations
        loadreg seasons going backwards - don't reset
    do this after all is loaded
        keep track of how many are left each time

loadprog -s f02 loadreg -s f02, loadrent -s f02
    can I do this post loadall?
    after each season is loaded do an undup list
        that list should have counts - of numbers of people
            with same name, same addr

unhappy smileys - adrienne, sukhdev, jayanti offerings

rental transmit/convert - error for dups in names

view summary - show coordinator/leader info read only

smaller font for confirmation letter

kaya kalpa on dreg1.html -> scheduler

default date format not mm/dd/yy but Dec 3 '09 or Jan 12 '10???
    easily done.
    Global->init() is a good place.
    or individual choice? :) like color?

what about extra account payments from the past?

D/C/M programs do not go on calendar.  - it would just be noise
    can make an Events for special days in the life of a D/C/M program
        - like orientations, graduations, etc.

mmi payments - gl numbers - figure the nth in the month thing

is it time for a parallel test?

doc!!!!!
    more than a rough testplan

reg, program start/end times = no pm or am
    8 is am
    7 is pm
    elsewhere too?
        in rentals.

if h_type is "Not Needed" don't bother looking
    after a manual reg or edit!

the deposit for a manual registration into an MMI program
    should be transformed into an mmi_payment.

don't check various things in Program if web ready is not set.
do check level

doc:
    MMI Programs:

    For programs offered by Mount Madonna Institute (henceforward MMI)
    the 'sponsoring organization' of the program is not MMC
        it is either:
            MMI College of Ayurvda
            MMI School of Professional Massage
            MMI School of Yoga
            MMI School of Community Studies
    You then need to specify a level:
        Diploma
        Certificate
        Masters
        Course
    If it is not a Course then it is refered to as a DCM program.
    MMI Courses/DCMs are marked with a red star in the list of programs.

    Actually, to see current Personal Retreats and DCMs you must
        choose "PR/DCM" on the list progs page OR
        do a search for a program with a pattern (or season/year).
        These are not normally included because they are
        ever-present (or present for months at a time unlike
        most programs that are typically just a weekend)
        and become a kind of noise.

    MMI Programs, at this time, do not have web pages - and hence
    no on-line registration.  People have to actually _apply_ to
    be a student of the Institute - just like any accredited school.
    Application forms _are_ available at the MMI web site.

    Registrations for a MMI _course_ are facilitated by the "Import"
        link on the course Program page.  You are presented with 
        the DCM programs that are concurrent with the course date range.
        You choose one or more DCM programs and everyone in
        these programs is registered for the course.  The housing
        type choice is assigned individually - based on the most recent
        housing type they were assigned.  If the DCM course is in winter,
        tenting choices are avoided.  Double is the default type.
        The housing type is set but the registrar still needs to go through
        and house everyone individually.

    People can register for only one DCM program at a time.
        Such second registrations are prohibited.  When viewing
        a registration in an MMI _course_ there is a link "To DCM"
        with which you can jump to their DCM registration.

    Tuition for DCM Programs is quite flexible depending on
        their ability to pay.  Various creative discounts for payment
        in full, etc.  So ... we don't really record the tuition _charges_.
        The comment field in the DCM program registration screen
        is used extensively to detail the payment arrangements that
        have been made.

    MMI Payments
        We DO keep close track of the _payments_.  All MMI Payments
        are linked directly to the person not to the registrations.
        On any MMI program registration screen there
        is a section at the bottom named "MMI Payments" with
        links "New" and "List".
        
        Choosing "New" to create a new MMI payment
        you supply a dollar amount, type (credit/check/cash), what the payment
        is for (Tuition/Meals&Lodging/Fees/...) and an optional note.

        For general ledger accounting purposes MMI Programs
        do not really have a single GL number.  Each MMI payment has its _own_
        6 digit GL number which is automatically computed thusly:

            digit 1 - what for (1=Tuition, 2=Meals & Lodging, 3=Application Fee,
                                4=Registration Fee, 5=Other)
            digit 2 - school (1=Ayurveda, 2=Massage, 3=Yoga, 4=Community)
            digit 3 - tens digit of year
            digit 4 - units digit of year
            digit 5 - month (1=Jan, ...  9=Sep, X=Oct, Y=Nov, Z=Dec)
            digit 6 - level (D=Diploma, C=Certificate, M=Masters)

        Each registrant making a payment is enrolled in just one DCM program.
        That DCM program and its _end_ date are used to determine
        digits 2-6 above.  Note that digit 5 could be a letter (X-Z)
        and digit 6 is not a digit (0-9) at all but D, C, or M.

        *Anyone* can register for a MMI _course_ - even people who
        are not enrolled in a DCM program.  These are called "auditors".
        When auditors make a payment (via "New" MMI Payment) 
        the values in digits 2-6 are determined using the MMI _course_ itself.
        Digit 6 is not D, C, or M but it is the _ordinal number_ of the
        course within its month.   e.g. It will be 2 if it is the
        second MMI course within the month of its _end_ date.

        The program where you clicked on the "New" link will
        be remembered with the payment itself.  This means you could
        make a tuition payment on a course registration.  This raises
        the question - are all tuition payments really attached
        to the DCM program?  Auditors would pay a tuition I presume, yes?
        And they have no DCM program.

    List of MMI Payments
        On an MMI program registration there is a link named "List"
        for displaying all of a person's MMI payments.   On the Person
        screen the link is "MMI Payments".

        These fields are listed from the payment records:
            
            amount, description, date, payment type,
            program name, and an optional note.

        You can optionally show the GL number as well, if you wish,
        with the link "Show GL".

        Note that the program where a payment was made
        was not recorded before newReg began to be used.

    Calendar and DailyPic
        DCM Programs (and Personal Retreats) are not shown on the
        calendar (or the daily pic) as they would be annoyingly and
        uselessly ever-present.

    There is a role 'mmi_admin'.  Only users with this role can _see_
        MMI registrations or payments or modify MMI programs.
        Normal program admins/staff can see the programs but not modify them.
        This is enforced via _whatever way_ you might try to get
        to the payments or registration or program.  A few examples:

        - The MMI payments are viewable via the person record
          of a person who is enrolled in an MMI program/course.

        - Clicking on an MMI person's room in the DailyPic
          or the ClusterView will show you their name but
          not allow you to click through to their
          registration - unless one of your roles is mmi_admin.

        - Asking for the Early/Late registrations list from
          a program screen.  You'll see different things depending
          on your role.

how to only show current programs in list
    when there are extended programs?
    we could assume extended programs don't have more than a week of
        extension.  use today for edates where extradays = 0
        and today+7 for edates where extradays != 0?
        combined with -and and -or appropriately.

need better indexes - especially now that
    we have much more data - it is good to load
    things up to see where the inefficiencies are.

deposits from manual registrations in a MMI program
    must be routed to mmi_payment, not reg_payment.
for all MMI registrations - be careful of reg_charges.
    m&l but not tuition - and show the m&l charge.

tab order for proposals
    when fields settle down.
    also required fields.
transmit proposal - what gender?
    until it matters - don't worry?
    make a guess?

if CVS is not working and you get an error like
    /usr/local/cvsroot/CVSROOT/config: permission denied
then do this as root:
    echo 0 > /selinux/enforce

ALSO - if the date is wrong on kali
    you will not be able to log in :(
    set it properly and you can get in

proposals 
    ?? summary first on clicking on rental list.
    xx on summary have "To Data" or some term
    sort list by date of program meeting
    textarea _br for proposal view/edit
    Proposal -> Tentative -> Sent
        no New
    no contract until meeting space set
        also not default housing cost
    contract name 'at' address
    contract signer as sep person with address


use Bcc! for email all
    add to Mail::SendEasy?

i deleted a rental - did it delete the proposal?
    it shouldn't.  summary yes.

wiki for summaries?

lunches indivi - yes.
    in contract somehow

drag and drop in rental housing
    or pop up menu of choices


attendance - alters rates for some people
    simply maybe maybe not

lori not richard on membership letters

How? next to Program and Rental searching

ask that Laura be my 'employee'
    helping test, document, maintain todo-lists
        prioritize, train
    and just someone to work with. so my job
    is not so lonely.
    rentals too.
    everything.

program summary 
    all leaders, assistants with email, phones, show in summary.

==
manual registration
    1 - choose program/pr
    2 - deposit (from program), housing prefs (restricted list
        dependent on the program)
    3 - rest of the reg

show housing preferences on reg view
    with Update
    not just 1-sgl etc
        this was an artifact of the old hack
    this affects other things - shared rooms
    default housing choice

proposals
    tab order
    required fields
    list order by program meeting date
    consolidate transmits

kaya kalpa in conf letter - update
    on reg form - link to site, phone, email

membership - date of next payment on conf letter?

rental list - 2 links - rental and summary

javascript validation of required fields - also
    putting focus on the missing/incorrect field
    other forms as well.

a new role: Field Staff
    On login they see only listings for their use.
    Can't go anywhere else.  Aside from Logout, Help, etc.
a listing of two weeks ahead from today (but can supply other dates)
    of indoor and campsite use.  ignore commuters & own van lodging.

+ for footnotes is okay?

pop up calendar in various places

auto capitalize the state in Person, Proposal?
    check the validity of the state in Proposal?

dup code in name proposal/create_edit.tt2
    is there a better way???

times in Program prog/reg start/end
    use Time::Simple
    elsewhere?

search and consider these spots marked with ???

DEPOSITS
    a string contains the date of the last deposit.
    have another string that is the 'reconciling' status.
    when Sukhdev (or whoever) requests the jiving deposit
    put a 1 in $string{reconciling} otherwise it has a 0.
    reference it whenever a payment is about to be made
    and display it on the payment page.
    ALSO - when a payment is being made on the same day
    that the last deposit was made put up a notice
    that this payment will be 'posted' (marked as having
    been made) on the next day.
    No more than one deposit is made a day, right?

wiki-ize (a la program web descriptions) the various
    textareas in a Summary.  yes, easy!
    this means two things:
        entry - have a "How?" kind of popup window link for the shortcuts, etc.
        display - _expand them
    do the same for program and ?rental descriptions

    if you want both * and _ put the * on the outside.

two cron jobs - getonline, makeup
    others?
        send carpool lists

what heading for Deposit listing - Program/Rental/Project/Extra Account
    - Account?
Are Project donations included in the Deposit that Sukh does?
    if not, where are they handled?

MMI payments should not be included, right?

doc: only one deposit per day, right?

rentals - default start, end times.

reconciling - do we need to put it on the disk or just in memory?
    surely it is a short term thing.  a reconciliation would
    not cross a server restart.

next is housing preferences shown not in comments
    and an Update link.
    and specified in a manual registration

    1. find person, choose 'Register'
    2. choose program and ajax functions fill in:
        - two <select> housing preferences
        - deposit
       user then chooses two h_types,
        verifies the deposit amount
        and specifies the deposit payment type
        and postmark date.
       presses Submit
    3. normal reg create screen

maybe we don't need 1st reg.

denied at top like approved?

better example for shortcuts.html
How? => Formatting Shortcuts

add rental room, don't select anything, hit submit

better line for contract - <hr>

&nbsp; in empty spaces for invoice

(people) x (days) in attendance help
    order of example switched.
    first explain the situation, then put the codes
    that go into the attendance field.

projects need GL numbers???
    yes.  given.
    what about existing donations?

tech doc:
    the 5 types of payments 
        (reg_pay, rental_pay, mmi_pay, donation, xaccount_pay)
    have these things in common (which I guess is what a Java interface is for):

    - amount
    - the_date
    - type
        the above 3 are direct attributes
    - glnum()
    - name() - of the the person making the payment
    - pname() - the program (perhaps MMI)/rental/Extra Account/Project
        to which the payment is directed.
    - link() - href to the registration (reg_payment, mmi_payment),
        the rental (rental_payment)
        or the person (xaccount xaccount_payment, project donation)

        this link is where clicking on the name() goes.

    flaws in existing mmi payment data
        results in no pointer to registration/mmi program.  sorry.
        but we do have the glnum. future payments will have that.

payments - when showing the type field need
    to expand O to Online, C to Check etc.
    hash to map single char to display name

cache the users - they don't change often

MMI - no finances to non MMI person
    all else?
    click on DailyPic/ClusterView only see who, can't go there.
    click on Calendar - _can_ go there but no changes at all.

recompute housing fees when doing a lodge/relodge
    and you have changed the housing type!

edit reg vs create reg
    merge?  very similar.  identical?
    then just one to mess with...
    need a sub-table for secondary housing preferences
        like first, second, cabin/room, sharing with.

change password - silly response as if error

assistant/leader - noted on registration page for special costing

simplify the myriad terms for the housing costs
    from the web site all the way to the method names
    descriptions from %string?  long/short?

document the tnt thing - see Program::publish()

doc:
    Housing Types
        ordered list of them in Util::housing_types().
        these are names of columns in the housing_cost table
        and values in pref1, pref2 in registration
        and prefixed with n_ and att_ in rental.

        they are also keys in string and prefixed with long_
            for display purposes

        can supply 1 or 2 to get more types
            1 - own van, commuting
            2 - unknown, not_needed

Use Template Toolkit on garlic - dreg1, dreg2, etc

ask Jayanti about the different names of housing types.
    web page - dreg1, dreg2, etc.
    long vs short

agenda for Rental meeting
    lifecycle when some don't attend the entire rental
        _actual_ example of a complicated past one
        bookings of rooms to ensure coverage
        who is in what room (does it matter?)
        the 2x3 mess - but needed?
    what about renting/costing the room to the renter not the bed to the person?
    what communications are truly needed with contact person?
        how might they be facilitated?  individual web site
            that both contact person and rental_admin can see?
    housing cost with lunches - no Saturday, no first day (usually)
        could be more precise
        even if some leave early or arrive late they
        are still counted for lunches in kitchen report
        how should the optional lunches appear in contract?


Add only when att_ - why?

Time::Simple show for Rental times in view.

meeting & breakout space on top of Sum
Checklist - separate item for sum?
rental explanatory letter - initial communication - when sent?
max -> kitchen until 2 week point - then h_type numbers
all text areas should have 'more' and _ex
    biography, proposals, etc.

need Bcc for emailing all in a program
    another mail module?  fixed existing?
    use the Sue Center one?

automatic tuition, lodging charges for MMI courses???

when merging or deleting a person also delete
    their mmi payments - what else?

how to deal with footnotes in newReg?
    cryptic barnacle superscripts - must be a better way.
    have a separate list of programs that you can get CEUs for?

users can edit their email address and name
    but not their login?  sure.

what password restrictions?
    at least 4 and not all small letters?

forgotten password - have link to send to email.

user attribute - inactive
    also everyone could have access to Users
    and see all active users and their full name
    and whether or not they were logged in!
    and be able to send them email or leave them a message.

little messages within newReg
    messages between users?  needed?
    checkboxes to choose which user to send to...
        could choose all prog_admin or all field staff
    Message, message table:
    id
    from user_id
    to   user_id
    subject
    body
    date sent
    time sent
    status (unread, read)

    no thanks

If membership payment as General - and it is more than $25
    (in string) then it DOES count towards the Sponsoring accumulation.
    The acknowledgment letter is AS IF they paid as a General member.
    Insert a note somewhere saying "Your payment _will_ count
    towards a Sponsor membership."
javascript for form field checking
    in membership for one.
    program, rental - switching tabs for focus
upgrade Perl to 5.10???
    avoid that warning about slowness for DBIx::Class???
====
use tinymce compressor -gzip thingy
    and use it _everywhere_ a <textarea> occurs.
PRs are fucked up - 140days???
bcc - the to: line should be the leader's public email?
    or use fake_to?
    with bcc and without to it bombs!
        see why.
style for tinyMCE - so paragraphs have no bottom/top margin
    can you hit return twice to get a blank line?
member_admin does not need to see
    Listings at all?   Perhaps General Reports?
add total paid to member view, especially after a payment
in any template loop see if role request is within the loop
    set outside, use inside
lapse_spons.tt2 replace <here> in printed letter.
mail going out?
    use localhost??? yes.
    will need to poke kali's strings.  add smpt_auth
transportation to a extra acct (newly created in mkacct)
    with correct GL num.
    textarea (with TinyMCE) for extra accts input what field
    show last 10 payments only with link to see a date range
comments in people - tinymce
show comments on member info
comments in reg should not go way to the edge
    see Gail Rossiter PR
    update on that field and on conf note should be below
referral
    word_of_mouth shows :(
    not a choice online?
submit twice on reg screen
====

email developers (role?) when issue is created
email submitter when issue is closed
    nice!
    only a developer can close an issue

on issues - the submitted by name should be a mailto: link.

preserve the meeting places for rentals/programs
    link by _name_ not id.
    max, start, end, deposit as well?
    why not.

    default the start, end times for rentals to 4:00, 1:00
    and use Time::Simple format in Rental & Program!

rn -> RN online

overlib at bottom of screen - UP!

what if you forgot your login? or password?

doc: individual start and end dates are required for
    personal retreats.  the start date cannot be a relative date (+ or -)
    and the end date is relative to the individual start date
    not the end date of the program as is usual.

on import of registrations surround comment, confnote with <p> and </p>.
other descr?

need a move to live for staging2.

Add program - default is Web Ready and Linked.
    When choosing the School if you choose non MMC
        it toggles the Web Ready checkbox to off.
        Then linked doesn't matter.
Loading MMI programs - ensure web ready is off.

Display Issue # when view/editing an issue.
If type a number in the issue search box - bring up that issue.

Guru Purnima affil auto for Members

capitalize zip_post

Credit Cards are attributes of the Person
    ride_admin only one to see/input them
    input when scheduling a ride.
    number, expiry date, security code
    only visible when viewing/creating ride
    stored with simple encryption (but fun)
    decrypted on page by javascript not Perl
    shown in list of unpaid rides in larger font with amount, name
Rides
    to/from MMC to/from airport
    To/From, Airport Code (SJC, SFO, OAK), time, flight #, comment
    sort list by date, airport, time
    list is visible to all.
    only ride_admin can edit/change/delete

program, reg confnote_ex - obsolete?
    loadreg must put '' in that field for no NOTES to appear?

User editing,creation by super admin - office, cell, txt_msg

display colors - put in User Profile
make it all vertical - it's not just about passwords.

add focus for Add Contact Person to First. - ???
IE on Windows - no tabs for Rental/Program???
    okay on Firefox

incorrect barber poles August 2009 on Calendar 
    Gates Yoga has red barber pole on right
    June 2009 YTT Monthly pole on left
    Thru Our Own Eyes pole on left
    Roth right Nov 09
    Feb 10 - Omega left
    May 10 - OGS left
firefox - control-Tab to cycle through tabs
    control-W to close Tab

width of "MMC Does Registration"
font - tinyMCE, menus, ???  Helvetica/Times???

akhilesh's calendar is clearer?
    my calendar has:
    non-white background color
    no line under M Tu We, etc.
    no where events pop up - with green coloring through the dow's.

times stored in 24 format.  displayed as needed.
    input as described in help topic.
    rides, programs, rentals, registration postmark time.  
    display 24 as hh:mm - store it this way too?

prohibit duplicate names in Programs, Rentals, and Events(?).
    at least for now when old reg still has its influence

prohibit delete if rental/proposal contact signer or contact person. 

no focus on username with FireFox at login?
    also event??

contract page br 
    top margin on contract 1st page
    <br>meals heading
    <br>these cancellation
    <br>housing procedure

    & rule 3 edit

flower list

yes to foreign keys for parallel rental/programs
    no meeting place update for programs with a parallel rental

deleting a rental-program or a program-rental - delete the
    parallel object too.   what if registrations?

time::simple storage in db as hhmm 24 time

doc: ride search - put "-10" in Start and hit return
    to see all rides for the last 10 days.

no need to show or compute gl num for MMI programs.

add checkbox to Reports - Include MMC - by default off.
    for Guru Purnima - turn off to get a count, then back on again
        when preparing the list for CMS.
    then everyone at MMC should have Snail Mail set to 'yes'.

add Count button to membership bulk mailings
    and change Submit to "Run Report".

new members have guru purnima affil?

be sure to recompute akey after update of person
    the address might have changed

to test post time mods:
    xa payments, view in person
    new deposit, past deposits
    member payments, hist
        registrations used
    donations

rides
    proper confirmation letter
        with costs ... perhaps less
    email
        if rider has no email put to screen ALSO.
    airport <select> SJC, SFO, OAK, MRY
    hover Send show email address as in reg.
    all view user info sans password
    what to do about bad credit card?
    for MMI all 1s?

auto cap State, Zip in javascript.

month end report - put * next to rentals

leader_assistant reg attribute - make it visible? on reg page or on list?

put @airports from Ride.pm into strings.txt and extract them (into Global?)
    for use:
        airport1 SJC - San Jose
        airport2 SFO - San Francisco
        airport3 OAK - Oakland

credit card clearing cron job.

resize little icons - question, envelope, etc.

tabindex for user edit.

edit/proof the time help topic.
    help <=> testplan

why can't I see months on the calendar beyond where
    there are events?

    ask for 12/1/20 for 3 months - only see 1.

the How? for the two search in Reg should
    specify that this is for current and future programs only.

web form for rides
    then get them in the same way that registrations come in
    ssl for credit cards?  or call a given number.

delete a program/rental with a link to a parallel rental/program
    and the linked to event should also be deleted.

problem with one member - show Shyama.

create parallel - bring title, etc.
    housing cost too
    max

on Program screen - Retreat -> MMC Yoga Retreat

Kaya Kalpa - in conf letter
    with conf note section

improve labels - Notify on Reg

set status to Tentative when first creating a rental
    otherwise it shows as black

mmi glnums
    for auditors the 6th digit is the month ordinal
    of the course.  consider all the mmi courses that _begin_
    within the same month.  which is this one in that order?

===

auditors & massage school  - envelope yes - other MMI no.
    and only on courses not dcm programs.

???? for me: check in, reload from oldreg.
???? for Brajesh;
?? no housing needed for DCM programs, right?
?? do MMI registrants pay a deposit?
?? if you enroll in a DCM program in the college of Ayurveda
??     can you take massage classes in the school of Massage?
??     i.e. should Import consider the school?
??     1 Ayurveda 2 Massage 3 Yoga 4 Comm Stud ? loadmmi old reg/glnum???
??              and the sch_opts options <select>
??              in Controller/Program.pm
?? no >7 or >30 or member discount for MMI, right?
??
?? If MMI courses start on Friday morning where do people
?? stay on Thursday night?   Or do they all fly in on Friday morning?
????

yes A/D/C/M in allregs - in addition to env or house

MMI registrants: if they asked for discount
    ( affil 'MMI Discount' $string{mmi_discount} = 20 ) then 

    charge for the 2 nights at whatever housing rate they chose
    plus a commuter's charge for the 3rd day.
    then apply the discount to that total.
    plus tuition for the course.

do a <link> file include of the ttsite.css rather than a copy everywhere
    can't do this and have temple replacements in it as well.
    oh well.

different titles for different newReg pages
    use pg_title in the stash

in various reg listings, etc adjust cal_param for which
    date to show the calendar for.

***Dangerous to delete program!   all registrations vanish!
    what about reg payments, charges???
    HOW do registrations get deleted????

***Referential integrity check
    delete rental - what about the proposal?

FINAL FIXES BEFORE GO LIVE
- Pickup Date - not just Date for Rides
- Back not Prev
- *Arrived* and stars for arrived people not for missing people
- ride payments by last, first in deposit
- from reconcile deposit link to rental payment - Finance tab
- Add always
- Parallel Programs - sum links to Rental sum
- no PR event 
- on PR reg - click calendar - don't show full 6 months!
- approve does not transmit???  neither does transmit?
    fails if there is more than one record :(
- mmi deposits not a RegPayment - instead an MMIPayment.
    no user_id or time in MMIPayment - so no 'info' icon. 
- prohibit payments after a deposit for the rest of the day 

- ??? scan
- pay for ride at any time
    later.

bulk member mailing checkbox inactive
reset nights only for life

Arpana Bordeaux came for 11 nights as a member.
    got 10% discount ended up with a credit!
    let this be handled manually?  or what?

doc: when MMI students cancel they don't get credit or a letter

members CAN take free nights for MMI courses

doc:
    1) UNselected clusters - houses/rooms in them can be selected
    and then they're available for choosing/assigning when housing someone.
    if you subsequently DEselect that cluster the housing
    assignment still stands - COULD give a warning?

    2) rental cluster assignment - only shows clusters that are
    ENTIRELY free (no housing assignments, no program/rental clusters reserved)
    in that date range.   choose one.   then
    individually deselect all houses in that cluster - the cluster
    assignment still stands.   when all houses are removed
    one should also remove the cluster - otherwise it is not
    available to other overlapping rentals or programs.

    3) when FORCING an individual housing assignment - it can happen
        as long as there is a bed there. - regardless of
        cluster assignments.  FORCE means you are taking responsibility.

    4) when looking for overlapping rentals/programs note that
        abutting (back-to-back) is not overlapping.

    5) when displaying available program clusters we only look
        at other program clusters and rental clusters.  not
        housing assignments - some other program may have selected
        it, chosen a house from it, then de-selected it.  see
        first item above.

    6) what about PRs?

doc: do not compute costs - and why.

doc: to unmark someone as a leader of a program - but keep their registration
    you need to delete and re-Add.

doc: invoice for rentals - show all options even ones
    for which the housing cost is 0 - i.e. not offered.

extra days - perhaps edate should be the last last
    and you _substract_ extradays to get the first last?

doc: web grid
    for house names - chopped B's and BH's - but do mark them with - b 
    108 is for handicapped.  just the one room - mark it somehow?

authorize@mountmadonna.org/Ashtanga!

authorize@hanumanfellowship.org/Ashtanga! mail.hanumanfellowship.org

breakfast on first day - yes if program start time is before 9:00 am
meal list - widen columns in special needs section
    so no wrapping in first 3/4 columns
add column after first (name) with count
    reg count for programs
    current count for rentals
    blank for PR
move miscellaneous after feedback
    anchor to jump to Misc in view and edit modes

annie && david martin adya 1/22
------ to do ------
check make up list when lodging or vacating a room
    rental/program/block (manual/auto)
    would it alter the 'needed' date?

    normal blocks - create, delete, update
    automatic bound blocks
        booking/vacating a meeting space
        that is also a sleeping space - by a rental/program or event.

on lodging check to see if a room is on the make up list
    if the date_start is less than two days from today
    and don't include it if it IS ...
    OR mark it as needing cleaning - yes!

add samara to listing - not just field staff
move comings and goings to field staff or people?

for programs (and rentals? yes)
check days of week when a refresh is needed
    on that day the gather_made script will
        add all occupied houses in that rental/program
        to the make up list again marked differently (refresh)
delete log?
add price to Ride list column 
    and make it directly changeable like pick up time (todo).
resize - standard size for longest dimension
users - see pics, allow clicking to see bigger
SJX, SFX - ride to area not airport
keep OTH
    location in Carrier field
    also comment
    and rework confirmation letter
Shuttle - centered on list heading

TO INSTALL LATEST:
several new strings:
    make_up_clean_days 2
    house_sum_clean -2
    ride_email transportation@mountmadonna.org
new column in program:
    refresh_days text
new column in rental:
    refresh_days text
new column in make_up:
    refresh text
new table:
    glossary
        term text
        definition text
new file Glossary.pm in db, Controller
new files in tren/../glossary
    list.tt2
    create_edit.tt2

extra body tag okay?
    I got the focus right using it.
footer is at a particular x coord?   > 20 nrecs it stays??? :(
    it's actually off screen :(
    i tried to get rid of it entirely with no luck.
    success - edited the css file.
empty message => "There is no message".
    some way in TT to make it empty?
    failed to reset message with query parameter, too.
    tutorial says it is better to use the 'flash' technique?  what's that?
    use this for rewriting the update url as well.
trim in Util.pm instead of Person.pm?
    done
not sure what is the convention for controllers /mlist/update or /person/update?
    how about for templates?   mlist/search.tt2 or person/search.tt2?
    person/update controller is in Person.pm, right?
    perhaps if the view is about a particular model then
        the tt2 file belongs there
really cool that you can muck with the view
    without restarting the server.  only when changing the controllers
    do you need to restart.
rewriting the URLs in case someone does a refresh
    good after a delete, update_do
    I followed the tutorial.
    I didn't use Catalyst.uri_for... for the form actions
        in the templates.  Okay?
**check for dups in create, update
how to change the name_pref?
need to put css class/div tags in the tt2 files.
got the function - at some point the appearance
get some cute little gifs for view/edit/delete?
    steal somewhere?
maxsize for text fields? so can't scroll them.
max for nrecs?  to protect against mistakes?
i forgot affils.
need another link for crud for affils.
how to do logging??  not to browser, how into server log???
prohibit [>"'] as a_code - will interfere with html syntax
    also # ) etc.  is there a uri_encode thingy?
    to hex encode it?
tried editing root/lib/config/main
    looked like Perl so used heredoc.  no no.  this is TT.
**Add to program attributes:
**    registration start and end time
**    program start time and end time
**Add a table for _system_ type attributes:
**    Start/end times for dinner on different days??
**How to quote a value in the template which might
    contain a ' and a "????   e.g. last name in the
    person update form.  last name of D'Angelo.
    " is safer, I guess. but not 100%.
I notice that after the update form is submitted
    it does a selective update - only the fields that changed
    AND the blank fields are rewritten.  Yes?
I guessed (and was right) that the create method
    returns the object it just created!
**isn't it rather unOO to dig into the stash hashref???
**    or the params hashref???   Verbose, too.
**    $c->stash("key", "value"); seems better to me than
**    $c->stash->{key} = "value";
**    my $pattern = $c->request->params->{pattern};
**    or
**    my $pattern = $c->params('pattern');
delete_all() for deleting a person is rather inefficient
    in the way it deletes the affiliations.   better to
    just do a delete after a search on the affiliation table
    for p_id = $id!
the fancy auto generated accessor 'affils' is nice
    but it doesn't sort as I would like...
    any way to specify an order by?
need javascript validation of sex, alert before delete
    other required fields?
    date validation
**    email validation
affiliations in column sort not running sort?
    since i'm not doing it in the template... i can be smarter.
    done.  nicely.  I did put some HTML in the controller.
    am I forgiven?
delete an affiliation - also delete from affil_people.
    done.
should we use automated form creation, field validation
    a la HTML::Widget as explained in part 8 of the tutorial?
    or should we do it ourselves - with better control?
    i haven't tried part 8 yet so perhaps can't speak...

partnering is next?

phone list - do I join 3 tables with descrip = "Phone List"
    or find the proper affil.id first, then join 2?
    how to do joins at all???
    or perhaps do the SQL yourself???  heavens!

in creating new tables I keep forgetting the "DB"
    after "RetreatCenter" in various places.
    get a long error message...
this passage in Authentication tutorial I did not understand:
    Another option would be to use something like
	sub base :Path :Args(0) {...} (where the ... refers to the
	login code shown in sub index : Private above).  We are
	using sub base :Path :Args(0) {...} here to specifically
	match the URL /login. Path actions (aka, "literal actions")
	create URI matches relative to the namespace of the controller
	where they are defined. Although Path supports arguments
	that allow relative and absolute paths to be defined, here
	we use an empty Path definition to match on just the name
	of the controller itself. The method name, base, is arbitrary.
	We make the match even more specific with the :Args(0)
	action modifier -- this forces the match on only /login,
	not /login/somethingelse.
a lot of this authentication is boilerplate.
    you CAN do things differently but rarely need to.
    so just copy it and use it until it becomes obvious
    that you need something different...
also don't understand the types of "Actions" as described
    in the Catalyst::Manual::Intro
    it may become clearer later when we need different things.
I fiddled a good deal with the layout/html/main/etc
    and the ttsite.css.   Show Shankar.  See if there's a better way.
just thought... if either Shankar or I started slowing down
    and charging for not doing much then the do-not-exceed
    might be reached - we need to be able to challenge each other.
    i guess the same would apply if one of us was much slower
    than the other.   is this a problem?
    we're actually quite comparable in that respect i think.
i moved to create_edit.tt2 instead of the object name.
    need to muck with CVS.
change RetreatCenter to some other better name?
    what should we call this?
    or is it not worth the CVS and editing trouble?
    hello there
maybe we should do the hardest parts (housing, housekeeping report, etc)
    first.  then when and if we reach the do-not-exceed limit
    we can start to re-interpret the spec a bit to lessen
    our task.   if we did the easier parts perfectly and
    at great length of time and then realized we were
    running out of money - it would be more difficult
    to 'cut corners' to reduce the project if we had to
    implement the intricacies and trickynesses of housing.
    the housing part is what they really need so let's
    do that first and right.  first mlist to get our bearings
    and learn the tools.
how about a link on the view person page to do a dup search?
    it is done after a create - and in the unduplication listing.
    not after an update.
Catalyst is smart to not include methods that begin
    with an underscore in its list of actions that is displayed
    on startup.
Hire a user interface expert graphics person like Matt
    to help us design the UI.  Jamal???
    Just like the work at Integration.
    Shankar and I would take too long to do it...

    I don't feel right when I charge for endless fiddling with
    the look of it.  My job is the function not the appearance.
    Same for Shankar.

    the users will want it to look a certain way
    so it will change so we shouldn't spend too long on it
    before consulting them.
styles in the views - better in the .css file
    see view.tt2 and the width of the email field
    if we enlarge the font - the 2 inch width may not be right.
**why do we need to put "Catalyst::uri_for('/person/search')"
**    and not just "/person/search"?  can we ask the experts?
DBIx::Class is simply not documented well enough yet.
    Catalyst is not that great either.
**    Is there an O'Reilly book in progress?
        for DBIx::Class or for Catalyst?
        call O'Reilly.  perhaps the system(s) are
        not yet mature enough.
    DBIx::Class is so fucking abstract.
        and it avoids SQL like the plague.  Why?
        If there's not going to be an easy way to
        construct the SQL::Abstract for a query that I know
        I'm going abandon DBIx::Class and make my own.
        It's not that hard.
How about a large example of a Catalyst application?
    open source, free to browse
    complex, well explained.
**Where is it documented what all that stuff in root/src does?
**    Any way to turn it off for a screen that is
**    destined for the printer?   This is an application
**    not a 'site'.
Egos abound.  Hackers love to make systems
    so complex and so abstract that they are viewed
    as profound geniuses.
    That DBIx::Class has a Cookbook, a Tutorial, an Intro, a FAQ,
    and an Example is not a good sign.  Why not just explain
    it?  Having stuff you can copy or mimic is not the
    same as understanding.
**what is the timeout value for login sessions?
**      settable where?
**several different affiliations for
**    do not send me any mailings.   should they all
**    be collapsed into one?   8, 9, do not distribute, do not Give out, etc.
the capitalization mixed case was not done very
    intelligently - O'brien for example.
    can we make it better?
**work on mlist so no dup ids!
    that's no good
**need someone to rework the out of usa records!
    there is an affiliation - likely not used consistently...
    look for zip code of blank?
    I can make further custom listings that don't
    fit into the Report model.
how about a report format that puts a link on
    the person's name - so you can edit their record!
reformat the phone numbers in a consistent way?
    the ones in the US anyway?
addr1 addr2 - in Email to CMS format - extra space at the end
    could have addrs method to remedy this.
**another attribute of a person
**    comments about extreme food or picky needs
**    difficult behavior
**    and this would pop up during registration
**search people by home phone
**    exact syntax needed.
**    831-460-2648 would not match (831) 460-2648
**    could do substring search of 2648 and find it.
what happens when one of two partners
    has a new address that is not the same as their partner?
    they should be separated at that time!
for reports - can't do a file://...    how to do it?
for programs
    checkbox labels - should be bold?  or a class?
    a class to match the other labels... which are just <th>.

**for some reason sqlite3 allows putting 'yes' in an integer field
**    e.g. all the checkbox fields in program table.
**    make em text.
Hardcoded Defaults for programs:
    Default - Housing Cost
    MMC     - Cancellation Policy
**should role 'user' be able to delete/edit reports?
do we need a role 'reception' - they can't see programs at all.
    only people, affils, reports, listings.
cascade deletes of affiliations to reports and programs as well.
    and leaders to programs
    or prohibit??? yes.
**more program form validation
**if you go to the login screen but you're already
**    logged in - go to the people search screen instead!
prohibit a delete of a person, housecost, calpol or leader
    if there are foreign keys to it.
    jeeeez - it gets complicated!
dates can be entered as 090910 for 9/9/2010
    for doc...
images for leaders and programs - does the
    little server do file uploads???
When in admin role and click on Program's housing costs
    should the user view the cost structure and also see
    Create  Edit  Delete???
    ditto for Cancellation Policy??
can't put a '+' in a form text field!
    why?   it is the only character that is special in this way.
    use method=POST for such forms
    it is not within DBIx::Class.
    it's within Catalyst server???
If you have two or more leaders
    they will be listed in alphabetical order
**    based on Last name, then first.  Okay?
    What if there is one main leader and a minor one.
after publish - go to list with message
after program edit go to list as well?
    these are good questions for the users.
is there no value= field for <input type=file>???
    wouldn't apply anyway...
    do we need a separate update form for images???
when deleting a leader
    their person record remains intact, "make leader" returns
    make sure to delete the associated image, if any.
which roles?
    admin / template-editor
    admin can create programs
        but not edit/delete the templates
put a javascript alert in front of deleting images
    in leaders, programs
members, images (for templates)
**restrictions on passwords?   >=5, what else?
**in updating strings - no " char.  ' okay.
**why use Catalyst.uri_for('/program/list') instead
**    of just '/program/list'?   for when it isn't localhost::3000?
mailto links on email addresses
do stale soon
**test - trimming of email in leader, user, rental and person
http:// off in rental, leader
**renamed tags:
    title => title1
    subtitle => title2
    weburl, website => weburl
    leaders => leader_names
**renamed styles
    title => title1
    subtitle => title2
    in e_progRow - event_title2, event_title2
    in progRow - title... ?? look
**can't put html tags in textareas :(
    what to do?  prohibit them, process before use
    like with expand.
    wiki things?
style sheet in picture popups???
    fully qualified domain for pic?
i put align=center where the click_enlarge style sheet
    could have taken care of it.
change big_imgwidth and you will
    need to reupload all the pictures
still need to do this:
    generate eventlist, programlist for events.html and programs.html
    make regtable - using prognum - corresponding to the use of it in
        program html pages.
did prognum - something still wrong with links
    to programs - it includes 'gen_files/'.
Rental email, phone are not just the field values.
    need separately named method.

To tell Adrienne:
    document
        attitude of "come here... sit down and I'll explain it to you".
        humor is always welcome and always helps - perhaps in footnotes or
            as an addendum if it might get in the way...
        documents written by engineers are often lousy
        she can use my cms_mmc.html as a secondary reference
            the program itself as the first.
        make it an HTML document accessible from the program directly 
            use a simple style (like cms_mmc.html) - content matters most
            Jamal can help fancy it up if needed.
        perhaps a task oriented format in one chapter?
            how do I do such and such a task?
        in the end - she should write the kind of document
            that she would want to read
    if overwhelmed by complexity
        not so complex yet - sans registration and sans housing!
        Twain as Mississipi riverboat pilot
    testing
        feedback!  her own or what she gathers/overhears in the office.
        not a whitewash, please!
        even trivial things.
        a successful test is a failure!
        alternate UI suggestions if nothing else and these never end...

seems like a lot of duplication in the
    DBIC_TRACE output...
    are the results cached?
rental tags need attention
focus field for Users changes depending on
    creating/updating - how to effect this?
have Shankar update his time...
IE does not support :3000 on OSX - it's old.
    Firefox is much more forgiving.
    does IE on XP work?
Personal Retreats can begin and end on the same day
    The p.r. program itself has no begin or end date, right?
**regtable should (also?) have program id as the identifier
**    not just the name - as this name might be reused
the program listing page will grow as seasons pass
    should what appears there be restricted by a range of dates?
    that default to one month back to the infinite future?
checkin, then rental tags, then testplan. 
for testplan
    future or not
    web ready or not
    linked or not
    personal retreat or not - dates empty, unlinked, template = personal
    program images take priority over leader images
    only the first two leaders (alphabetically)
        get their individual pictures on the page.  okay?
        if not, a group pic as a program image is probably indicated.
avi_template needs its tags updated
    title => title1
    subtitle => title2 etc.
**FULL programs - very confusing
**    what if not full at first but then you edit it into fullness?
**templates have been modified.  cannot use the old ones.
super admin CAN set a password to anything
    nope, not null must be something (not 0)
users, roles => 
    roles cannot be created/deleted/added.
    only by me - I implement the meaning of the role.
**one worry - mailing list staff can edit/delete people
**    that are registered for a program... dangerous?
referential integrity issues...
    always have a javascript deletion alert
    and before and/or after deleting be sure to check:

    affils - show/ask about people, program & reports with that affil
        then delete and the 3 maps
    leaders - show/ask about programs, then delete, also images
    members - no problem
    rentals - no problem
    canpol - not if program
    people - not if leader or a member, if ok -> affil map
    housecost - not if program
    program - images, exceptions, leader map, affil map
        also a FULL version
    templates - not if program
    report - affil map
    user - role map
    exception - no problem
    string - can't delete
    role - can't delete
keep looking at the server log to
    see what inefficiencies can be eliminated
    asking about roles once in tt2 files and then using the answer
        many times is much much more efficient
**deleting a person requires no authorization at all???
**    we could make it mail_admin
**A Tk app with optimal interface for blitz registrations!
    to overcome the limits of the web - sans Ajax, that is.
    might be easier.
    would portably run on Windows or Linux
we will have further ref integrity issues when
    we do registration and housing, of course.
is there a way for us to have date objects automatically
    returned in the DBIx::Class object???
    a conversion done for us from d8 string to Date::Simple object???.
member sponsor payment history cannot be cleared
    for archival puposes.
    super admin is the only one that can delete members
        and along with the member goes the history.
document all date formats - in a popup help?
    linked to in various places.
    all formats including t, 5/6, 5
brochure generation
couple life members if partner+theirs >= 8000 then both.
New address? - for online reg page
tag for current date, current year
years of General membership fees do not go towards
    sponsoring membership, right?
members paying sponsor dues and becoming Life members
    many weird cases.   try em all.
    creating and/or updating.
    neither partner member, one pays 8000.
        both Life
    then again bring up Member form but
        do nothing - it changes to General:(
name of report is a required field.
    affil descr cannot be blank.
    name of rental cannot be blank.
    user name, password >= 5
    same for cancellation policy, housing cost
    use a red asterisk - class of 'required'
not green, red for messages?
    it's a class, right?
tags for current date, year.  in usual format.
use my modified templates as a new starting point.
Housing Cost default is called "Default" not MMC.
New Address? on online reg page
get OOs with a cron job - then faster when typing 'O', 'O'.
Brochure generation - include FULL programs by noting the extra days.
get_data for Person - return if @mess in all!
regtable should have the program record id in it
    so that similiarily named programs can be distinguished.
    also so that one can go directly to the program rather
    than needing to search for it...
redo people search form so there
    are bold labels.
    Pattern
    Search Field  and then vertically arranged?
    Search Type   o Prefix    o Substring
    Number per Page ___
don't mess with inserting % if phone number pattern already has a %?
Need some validation on the GL number in update_do
    for Program and Rental. - only the super admin can change it...
use fieldset and legends???
    try it.  mention it to Jamal.
New Address?  - add to online form
Can improve and now use the accessor methods in templates
    rather than in the code - better for sure.
    like $person->partner and $person->leader - done
    others, too
question for #catalyst or #tt
    mispelled method names do not raise exception???
    I tried TRY CATCH END but no exception for misspelled method/accessor
perhaps the date/time postmark can be elsewhere - or shown in the view mode?
    but not stuck in the comment?
why does Catalyst bomb on me when I try to use
     a non-existent field in an insert?  DBIx::Class gives
     me no real error message. :(
during registration - pop up person->comment
    if a certain "Pop Up Comment" affiliation is present...
it's sort of lame to have clicking on the title
    of a program be the way to see the registrations
    didn't want to have just a number.   or "Regs (10)" repeated in a sep column.
    perhaps that would be okay.
    Jamal can perhaps suggest some nice looking buttons
    X for delete
    something for Edit
    something for Create
    another for Registrations
in test plan for registrations:
    -1 day before +3 days after
    for the initial create screen for registration.
    oh man... on an update screen later the person could retype
        their start date and this would affect the finances. :(
        damn complex.
Registration
    conf_note and workstudy - need to show on initial
        reg screen.   don't really need perday???
    with this can we make a standard confirmation note template?
Members, Sponsors
    on Shankar's apple computer instance of dearReg
        archive the members and sponshist tables before
            overwriting with new revisions
    keep history of past payments
    keep total paid and also
        ?display total paid in last 6 months and in the last year?
    and another date - sponsor benefit expiry date
        user editable - settable after a payment?
        sponsors lapse only when this date is passed

    since the decision of when this expiry date is
    so complex let's at least display this history
    in a more accessible way.

    show this history in a graphical color coded table:

    Year   Jan Feb Mar May Jun Jul Aug Sep Oct Nov Dec
    2008   25
    2007   25          50          75
    2000   25          100         75
    1999           25  50          75

    dollar amount right justified in field?
    play with the widths

    color coded by degrees of how much the payment was
        25 - grey
        up to 50 - pink
        up to 75 - green
        up to 100 - blue etc
        or some such

    or a GD generated graph?
    ranging to 2008 at the far right?
    nah.

    is this correct:  (an equivalent version that is easier
    to calculate):
    if the person has paid at least $150 within the last
    year (from today going back) then they deserve sponsor
    membership benefits?  or $300 within the last two years?
    something like that?
Mention kids and work study on the online registration form?
    just in special requests or as an actual input field?
    CEU license is put there conditionally
Are discounts of > 7 and > 10 days handled properly
    when registering online?  Personal Retreats or programs?
For the doc: on registration creation screen
    you can put -1 to arrive a day before and +1 to
    stay one day after.
Doc: "Pop Up" comment affiliation
How to make changes to a registration and have
    the charges recomputed???   Delete all, redo?
    Might be the best... :(
Next - Sponsor in good standing (expiry date not yet reached)
    and has a day left.   They start at 12 (String?) on 1/1 each year.
Unlinked programs - have another program attribute: ul_directory_name
paging of printed web pages with CSS attribute
    which browsers suppport this?   Explorer, yes.
    perhaps others do but just not in Preview?
    use this for late notices and CEUs!
If you can't use all the fancy javascript ajax stuff
    don't worry.  It is going to work.  It can be gussied up
    over time if needed.
CEU charges $10 (String?) - it wouldn't ask for a CEU license
    number if the program didn't have footnotes, right?
    right.
Have a way to jump to a programs web page?  Staging/Live.
    Force in a new window?  Prolly a good idea as it
    is an entirely different world.
Arrival and payment of balance is only
    inserted when balance goes to zero.
    Not right?  They have arrived - just still have a balance.
    How often do people not fully pay at registration time?
Nights left - when first creating the sponsor membership
    are the nights left prorated within the year? - yes.
    otherwise - become a sponsor member on Dec 1st
    and get 12 nights!   several ways to 'game' the system, huh?
Discounts, charges - 10% if > 7 days, then they bring a kid.
    does the kid get a discount on his lodging, too?
Pro-rated nights benefit - if sign up in Oct - you get 3 nights.
    use ceil().  be generous.
Email All - what about people sans email?
    also General expiring
General paying - Jan thru May - next year May
    June-Dec - in next May
Jayanti - how do you deal with the once a year free week-long program
    or personal retreat for Life members?   Is this like
    an extra 7 days of free lodging they can use?
    Or are tuition and meals covered, too?
Separate generation of CEU programs by category.
    new development - new design of web site - ask Jamal.
show online regs by program and then by postmark date/time
Other ABC - on program line
Printable registration itemization with 'i' details.
Confirmation letter should
    include the charge/payment itemization
use the name 'default' for web templates and letter templates
have templates in root/static/templates with subdirectories
    of web and letter. - later for now templates and cl_templates
    will serve okay.
after publishing pictures
    show the unlinked programs as well.
need date help popup link
    explaining relative -1, +3 entries as well
what is the timeout value for being logged in?
staying extra days with housing cost of Total - not taken care of!
after someone has arrived and paid don't include
    them in the list of 'to register' people. - optionally.
don't need overlib.js everywhere - how to have it
    only when needed?   does it need to be loaded in <head>?
the "Pay" checkbox is checked on registration day
    otherwise it is unchecked.
need link to click on to "Get Online Now".
    where should it be?
apple-R to refresh will change list_reg_post to list_reg_name
    because a key was pressed.   clicking on refresh button does not.
    do nothing when non-printable keys are pressed.
    which ones?  dump keynum to see what it is.
house type width should be set - so it doesn't change
    when a singleton registration is reached.
    but what about when the user enlarges the text font size?
    use a % value???
house types like single_bath should be reshown
    as Single Bath - less geeky.
    do this with a special method in db/Registration.pm
        that makes the transform - like sdate_obj in db/Program.pm
        and a similar thing to transform textarea values.
            comment_br - with <br> for \r\n.
thought about not showing registrations that have already been paid off
    during the blitz time.    ask Jayanti.   conditional on the
    checkbox "Pay"?
    don't jump to pay_balance if it is already 0!
Why don't MMC programs have the funky MMC logo
    next to them on the programs.html page?
deletions of people - not if there are any registrations
sponsors using free nights - after a 10% discount
    they could actually make money!
need to be able to NOT use all the nights they have
    available.   registrar determines how many..
doc that online regs ARE gotten every 10 minutes
    but that you can "Grab New" if you wish.
for testplans for Programs:
    Grab New
    seeing Registrations
    after publishing - can publish pics
        also can click on Web to go to the
        web page for that program (whether linked or not).
    testplan for People
        can go to registrations
        can't delete if any registrations (also in deletions test plan)
If there's only one registrant for a program
    the link "Other <name>" will take you nowhere (to the same page).
Members needs lots of testing.
    I paid total of $5100 and became a Life member.
    I click on myself to see my status and hit Submit
    without changing anything and now I'm a General member.
    You need to update the benefits expiration date - automatically
    for Life members - set it to something way out.
When mailing all the members - some kind of report on
    how many were notified?
When resetting - ask for password?
    some more significant obstacle.
How to have confirm default to No/Cancel?
    none known - did a search
the link "Web" points to the staging area
    perhaps to .../live/... instead?
    yeah likely best - have this be configurable?
    two links?
when listing programs - on leaders, canpol, etc
    have a line indicating the boundary between past and future?

--
-- Add users and roles tables, along with a many-to-many join table
--
drop table if exists user;
create table user (
    id          integer primary key,
    username    text,
    password    text,
    email       text,
    first       text,
    last        text
);
drop table if exists role;
create table role (
    id          integer primary key,
    role        text,
    fullname    text,
    desc        text
);
drop table if exists user_role;
create table user_role (
    user_id     integer,
    role_id     integer,
    primary key (user_id, role_id)
);
--
-- Load up some initial test data
--
insert into user values (1, 'jane', 'mypass', 'jane@na.com', 'Jane', 'Doe');
insert into user values (2, 'joe', 'mypass', 'joe@na.com', 'Joe', 'Blow');
insert into user values (3, 'mary', 'mypass', 'mary@na.com', 'Mary', 'Smith');
insert into role values (1, 'super_admin', 'Super Admin', 'Create users and roles.');
insert into role values (2, 'prog_admin', 'Program Admin',
'Create programs, rentals, leaders,
cancellation policies, housing costs, housing configuration,
and can publish to staging.');
insert into role values (3, 'mail_admin', 'Mailing List Admin',
'Create affiliations, can do a purge and stale');
insert into role values (4, 'prog_staff', 'Program Staff',
'Does registrations, finances, housing');
insert into role values (5, 'mail_staff', 'Mailing List Staff', 'People create/edit/delete, partnering, affiliations');
insert into role values (6, 'web_designer', 'Web Designer', 'Templates, web images, exceptions, strings');
insert into role values (7, 'member_admin', 'Membership Admin', 'Maintain Memberships');
insert into user_role values (1, 1);
insert into user_role values (1, 2);
insert into user_role values (1, 3);
insert into user_role values (1, 4);
insert into user_role values (1, 5);
insert into user_role values (1, 6);
insert into user_role values (1, 7);
insert into user_role values (2, 4);
insert into user_role values (3, 5);

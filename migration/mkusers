--
-- Add users and roles tables, along with a many-to-many join table
--
drop table if exists user;
create table user (
    id          integer primary key,
    username    text,
    password    text,
    email       text,
    first       text,
    last        text
);
drop table if exists role;
create table role (
    id          integer primary key,
    role        text,
    fullname    text,
    desc        text
);
drop table if exists user_role;
create table user_role (
    user_id     integer,
    role_id     integer,
    primary key (user_id, role_id)
);
--
-- Load up some initial test users
--
insert into user values (1, 'unknown', '-no login-', 'none@none.com', 'Unknown', 'Person');
-- the above is used for legacy reg payments, etc.

insert into user values (2, 'jane', 'mypass', 'jane@na.com', 'Jane', 'Doe');
insert into user values (3, 'joe', 'mypass', 'joe@na.com', 'Joe', 'Blow');
insert into user values (4, 'mary', 'mypass', 'mary@na.com', 'Mary', 'Smith');
insert into user values (5, 'jamal', 'hello', 'jamal@mountmadonna.org', 'Jamal', 'Killou');
insert into user values (6, 'shyama', 'brajesh', 'shyama@mountmadonna.org', 'Shyama', 'Friedberg');
insert into user values (7, 'pratibha', 'hello', 'pratibhas@comcast.net', 'Pratibha', 'Sharan');
insert into user values (8, 'web_user', 'webby', 'web@user.com', 'Web', 'User');
insert into user values (9, 'soma', 'hello', 'somabr@gmail.com', 'Soma', 'Goresky');
--
-- the roles - do not muck with the ids!
--
insert into role values (1, 'super_admin', 'Super Admin', 'Create users and roles.');
insert into role values (2, 'prog_admin', 'Program Admin',
'Create programs, rentals, leaders,
cancellation policies, housing costs, housing configuration,
and can publish to staging.');
insert into role values (3, 'mail_admin', 'Mailing List Admin',
'Create affiliations, can do a purge and stale');
insert into role values (4, 'prog_staff', 'Program Staff',
'Does registrations, finances, housing');
insert into role values (5, 'mail_staff', 'Mailing List Staff', 'People create/edit/delete, partnering, affiliations');
insert into role values (6, 'web_designer', 'Web Designer', 'Templates, web images, exceptions, strings');
insert into role values (7, 'member_admin', 'Membership Admin', 'Maintain Memberships');
-- jane
insert into user_role values (2, 1);
insert into user_role values (2, 2);
insert into user_role values (2, 3);
insert into user_role values (2, 4);
insert into user_role values (2, 5);
insert into user_role values (2, 6);
insert into user_role values (2, 7);
-- jamal
insert into user_role values (5, 1);
insert into user_role values (5, 2);
insert into user_role values (5, 3);
insert into user_role values (5, 4);
insert into user_role values (5, 5);
insert into user_role values (5, 6);
insert into user_role values (5, 7);
-- shyama
insert into user_role values (6, 7);
insert into user_role values (6, 5);
-- soma
insert into user_role values (9, 7);
insert into user_role values (9, 5);
-- pratibha
insert into user_role values (7, 5);
insert into user_role values (7, 7);
insert into user_role values (3, 4);
insert into user_role values (4, 5);
